<!DOCTYPE html>

<html lang="en">


<head>

<title>motion draw viewer</title>

<meta charset = "utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">

<link rel = "stylesheet" type = "text/css" href = "css/motion_viewer.css">

<script>var host = 'wss://motion-draw.sytes.net';</script>
<script language = "javascript" type = "text/javascript" src = "js/gl_math.js"></script>
<script language = "javascript" type = "text/javascript" src = "js/motion_draw.js"></script>
<script language = "javascript" type = "text/javascript" src = "js/NoSleep.js"></script>


<script id="viewer_vertex" type="x-shader/x-vertex">

attribute vec3 pos;
attribute vec3 color;

varying vec3 frag_color;

uniform mat4 pv;

void main()
{
  frag_color  = color;
  gl_Position = pv * vec4(pos,1.0);
}

</script>

<script id="viewer_fragment" type="x-shader/x-fragment">

precision mediump float;

varying vec3 frag_color;

void main()
{
  gl_FragColor = vec4(frag_color,1.0);
}

</script>


  <div id="body">

    <canvas id="viewer_canvas"></canvas>

    <div id = "control">
      
      <form id = "c_menu" style="display: block">
        x:    <input id = "c_x"    type = "text" readonly style="width: 30px;">
        y:    <input id = "c_y"    type = "text" readonly style="width: 30px;">
        acc:  <input id = "c_acc"  type = "text" readonly style="width: 30px;"><br />
        
        <input  id = "c_color"    type="color">

        <button id = "c_zoom_in"  type="button">zoom in</button>
        <button id = "c_zoom_in"  type="button">zoom in</button>
        <button id = "c_zoom_out" type="button">zoom out</button>
        <input type="button" id="toggle" value="enable sleep" />
      </form>
      
      <button id = "c_toggle_menu" type="button">...</button>

    </div>

    <script>
      var noSleep = new NoSleep();
      noSleep.enable(); // keep the screen on!

      var wakeLockEnabled = true;
      var toggleEl = document.querySelector("#toggle");
      toggleEl.addEventListener('click', function() {
        if (!wakeLockEnabled) {
          noSleep.enable(); // keep the screen on!
          wakeLockEnabled = true;
          toggleEl.value = "enable sleep";
        } else {
          noSleep.disable(); // let the screen turn off.
          wakeLockEnabled = false;
          toggleEl.value = "disable sleep";
        }
      }, false);
    </script>


  </div>

</body>


</html>
